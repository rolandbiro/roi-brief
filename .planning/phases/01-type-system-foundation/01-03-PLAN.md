---
phase: 01-type-system-foundation
plan: 03
type: execute
wave: 3
depends_on: ["01-01", "01-02"]
files_modified:
  - app/page.tsx
  - app/brief/page.tsx
  - components/PdfUpload.tsx
  - app/api/parse-pdf/route.ts
autonomous: false

must_haves:
  truths:
    - "Érdeklődő direkt linkről érkezik és egyből chat felületet lát (nincs PDF feltöltés opció)"
    - "Home page hero szekció: értékajánlat (3 pont), adatkezelési checkbox, chat indítás CTA"
    - "Adatkezelési checkbox nélkül nem indul a chat"
    - "PdfUpload komponens és /api/parse-pdf route törölve"
    - "Mobilon a hero felcsúsztatható, CTA-ra a chat kitölti a képernyőt"
  artifacts:
    - path: "app/page.tsx"
      provides: "Landing + chat layout"
      contains: "ChatContainer"
    - path: "app/brief/page.tsx"
      provides: "Redirect-free brief page OR removed"
  key_links:
    - from: "app/page.tsx"
      to: "hooks/useChat.ts"
      via: "useChat() hook for chat functionality"
      pattern: "useChat"
    - from: "app/page.tsx"
      to: "components/chat/ChatContainer.tsx"
      via: "ChatContainer component rendering"
      pattern: "ChatContainer"
---

<objective>
Entry flow átalakítása: PDF feltöltés eltávolítása, landing hero + chat layout, mobile optimalizálás.

Purpose: Az érdeklődő direkt linkről érkezik és egyből a chat felületet látja (FLOW-01). A PDF feltöltés és kapcsolódó logika teljesen eltávolítva (FLOW-02). A home page átalakítva hero + chat layout-ra (FLOW-03).

Output: Átalakított home page hero + chat-tal, PDF-related fájlok törölve, mobilra optimalizált layout.
</objective>

<execution_context>
@/Users/biroroland/.claude/get-shit-done/workflows/execute-plan.md
@/Users/biroroland/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/01-type-system-foundation/01-CONTEXT.md
@.planning/phases/01-type-system-foundation/01-01-SUMMARY.md
@.planning/phases/01-type-system-foundation/01-02-SUMMARY.md
@app/page.tsx
@app/brief/page.tsx
@components/PdfUpload.tsx
@components/chat/ChatContainer.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: PDF-related fájlok és logika eltávolítása</name>
  <files>
    components/PdfUpload.tsx
    app/api/parse-pdf/route.ts
    app/brief/page.tsx
  </files>
  <action>
**1. Fájlok törlése:**
- Töröld: `components/PdfUpload.tsx` (teljes fájl)
- Töröld: `app/api/parse-pdf/route.ts` (teljes fájl, és az üres `app/api/parse-pdf/` mappát is)

**2. app/brief/page.tsx átalakítása:**
A brief page-nek két lehetséges sorsa van -- válaszd az egyszerűbbet:

**Opció A (ajánlott):** A brief page MARAD, de egyszerűsödik:
- Töröld a `usePdfData` hookot és a PDF-re vonatkozó logikát
- Töröld az `isParsing` state-et és a PDF parsing effect-et
- Töröld a `sessionStorage` hozzáférést
- Töröld a redirect logikát (ha nincs PDF, ne redirect-eljen)
- A brief page most közvetlenül használja a `useChat` hook-ot:
  - `startChat()` hívás (paraméter nélkül, Plan 02 szerint)
  - ChatContainer renderelése a messages-zel
  - BriefEditor renderelése ha briefData nem null
- Töröld a PDF fájlnév megjelenítést a header-ből
- Az "Új brief" gomb navigáljon a "/" route-ra (sessionStorage nélkül)

Ez a page a `/brief` route-on marad, és a home page CTA-ja ide navigál.
  </action>
  <verify>
`ls components/PdfUpload.tsx` -- nem létezik (törölve)
`ls app/api/parse-pdf/` -- nem létezik (törölve)
`npx tsc --noEmit` -- hiba nélkül fordul
Grep: `sessionStorage` -- 0 találat az app/ és components/ mappákban
Grep: `PdfUpload` -- 0 találat (kivéve .planning/)
Grep: `parse-pdf` -- 0 találat (kivéve .planning/)
  </verify>
  <done>
PdfUpload.tsx és /api/parse-pdf törölve. app/brief/page.tsx PDF logika eltávolítva, sessionStorage nincs. A brief page közvetlenül useChat()-al indul.
  </done>
</task>

<task type="auto">
  <name>Task 2: Home page átalakítása hero + chat indítás layout-ra</name>
  <files>
    app/page.tsx
  </files>
  <action>
Írd át az `app/page.tsx`-t teljesen a CONTEXT.md locked decisions alapján:

**Layout struktúra:**
```
┌─────────────────────────────┐
│         HERO SECTION        │
│  Értékajánlat (3 pont)      │
│  + Adatkezelési checkbox    │
│  [Chat indítása CTA]        │
└─────────────────────────────┘
```

**Hero szekció tartalom:**
- Főcím: "Kampány Brief" (ROI Works branding, roi-orange highlight)
- Alcím: rövid értékajánlat -- mi ez, hogyan működik, miért jó
- 3 pontos struktúra (az értékajánlat):
  1. Kérdezünk -- AI asszisztensünk személyre szabott kérdésekkel feltárja a kampány igényeit
  2. Összeállítjuk -- A válaszok alapján professzionális kampány brief készül
  3. Elindulunk -- A kész brief alapján a ROI Works csapata azonnal dolgozni tud
- Adatkezelési checkbox: KÖTELEZŐ -- a jelenlegi privacy consent card pattern-t tartsd meg (szép design, shield ikon, "Elfogadva"/"Szükséges" badge), de:
  - A link marad: https://roi.works/privacy-policy/
  - A checkbox state-et kezeld useState-tel
- CTA gomb: "Chat indítása" (vagy hasonló) -- navigál `/brief`-re
  - Disabled ha checkbox nincs bepipálva
  - Vizuálisan: `btn-primary` class (meglévő stílus)

**Fontos változások:**
- Töröld a PdfUpload importot és használatot
- Töröld a `file` state-et és `handleFileSelected`-et
- Töröld a sessionStorage.setItem hívást
- A `handleContinue` most csak router.push("/brief") (feltétel: acceptedPrivacy)
- A 3 lépéses kártya szekció alul (Feltöltés -> Kitöltés -> Küldés) frissítendő:
  1. "Kérdezünk" (nem "Feltöltés")
  2. "Kitöltés" (marad)
  3. "Küldés" (marad)
  - A leírások is frissüljenek ennek megfelelően (nincs PDF feltöltés referencia)

**Mobile optimalizálás (CONTEXT.md locked decision):**
- A hero szekció mobilon teljes képernyős (min-h-[100dvh] vagy hasonló)
- CTA-ra kattintva navigál a /brief-re (ez elég egyszerű -- nem kell scroll-snap)
- A mobilra optimalizálás CSS-sel: responsive Tailwind classes (md: breakpoint)

**Stílus:**
- Tartsd meg a meglévő ROI Works design language-et (roi-orange, roi-gray-darker, animate-fade-in-up, stb.)
- A privacy consent card designja maradjon hasonló az eredetihez (jól néz ki)
- Claude's Discretion: a hero szekció pontos vizuális design, spacing
  </action>
  <verify>
`npx tsc --noEmit` -- hiba nélkül fordul
`npm run build` -- Next.js build sikerül
Grep: `PdfUpload` -- 0 találat az app/page.tsx-ben
Grep: `sessionStorage` -- 0 találat az app/page.tsx-ben
Grep: `acceptedPrivacy` -- megtalálható (checkbox state)
  </verify>
  <done>
Home page hero szekció + adatkezelési checkbox + CTA gomb. PDF feltöltés eltávolítva. 3 pontos értékajánlat (Kérdezünk, Kitöltés, Küldés). Mobilra optimalizált layout. CTA navigál /brief-re, disabled ha checkbox nincs bepipálva.
  </done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <name>Task 3: Vizuális és funkcionális ellenőrzés</name>
  <files>app/page.tsx, app/brief/page.tsx</files>
  <action>
Vizuális és funkcionális ellenőrzés a teljes Phase 1 entry flow-ra.

What was built:
Teljes Phase 1 entry flow: Home page hero + privacy checkbox + CTA, Brief page chat felülettel. PDF feltöltés eltávolítva. Structured output a regex helyett. Moduláris prompt rendszer.

How to verify:
1. Indítsd el a dev server-t: `npm run dev`
2. Nyisd meg http://localhost:3000 böngészőben
3. Ellenőrizd:
   - Hero szekció látható: értékajánlat (3 pont), ROI Works design
   - Adatkezelési checkbox: pipa nélkül a CTA gomb disabled
   - Pipáld be a checkbox-ot: CTA gomb aktívvá válik
   - Kattints a CTA-ra: navigál a /brief oldalra
4. A /brief oldalon:
   - Chat felület betöltődik
   - AI bemutatkozik (ROI Works brief asszisztens)
   - Tudsz üzenetet írni és küldeni
   - Streaming válasz érkezik
5. Mobilnézet (DevTools responsive mode, ~375px széles):
   - Hero szekció jól néz ki mobilon
   - Checkbox és CTA működik
6. Nincs PDF feltöltés opció sehol
7. Az AI válaszaiban nincs BRIEF_JSON_START/END pattern

Resume: Írd hogy "approved" ha minden rendben, vagy írd le a problémákat.
  </action>
  <verify>User confirms visual and functional correctness</verify>
  <done>User approved the entry flow: hero + checkbox + CTA + chat page működik, mobilon is jól néz ki, PDF teljesen eltávolítva.</done>
</task>

</tasks>

<verification>
1. `npx tsc --noEmit` -- Teljes TypeScript fordítás hiba nélkül
2. `npm run build` -- Next.js production build sikerül
3. Grep: `PdfUpload` -- 0 találat az app/ és components/ mappákban
4. Grep: `parse-pdf` -- 0 találat az app/ mappában
5. Grep: `sessionStorage` -- 0 találat az app/ és components/ mappákban
6. Grep: `BRIEF_JSON_START` -- 0 találat az egész codebase-ben (kivéve .planning/)
7. `ls components/PdfUpload.tsx` -- nem létezik
8. `ls app/api/parse-pdf/` -- nem létezik
9. Home page-en hero szekció + privacy checkbox + CTA gomb
10. Brief page-en chat felület PDF nélkül
</verification>

<success_criteria>
- Érdeklődő direkt linkről érkezik és egyből chat felületet lát (FLOW-01)
- PDF feltöltés és kapcsolódó logika eltávolítva (FLOW-02)
- Home page átalakítva: hero értékajánlat + adatkezelési checkbox + chat indítás (FLOW-03)
- Mobilra optimalizált layout
- Vizuálisan ellenőrizve (checkpoint)
</success_criteria>

<output>
After completion, create `.planning/phases/01-type-system-foundation/01-03-SUMMARY.md`
</output>
